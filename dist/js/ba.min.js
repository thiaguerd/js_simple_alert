(function(){this.SimpleAlert={bt_close_class:"",bt_confirm_class:""},this.ba=function(){var o,e,n,i,t,s,c,l,d,r,a,u,m,f,v,w,_,b,h,C,p,g
return m=$.topZIndex(),f={37:1,38:1,39:1,40:1},_=function(o){o=o||window.event,o.preventDefault&&o.preventDefault(),o.returnValue=!1},b=function(o){if(f[o.keyCode])return _(o),!1},s=function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",_,!1),window.onwheel=_,window.onmousewheel=document.onmousewheel=_,window.ontouchmove=_,document.onkeydown=b},c=function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",_,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null},a=function(){var o
for(o=(Math.random()+"").substring(2);$("#shadow_"+o).size()>0;)o=(Math.random()+"").substring(2)
return o},h=function(o){var e,n
if(o[0].constructor===Object)e=o[0]
else switch(e={},o.length){case 1:e.message=o[0]
break
case 2:e.title=o[0],e.message=o[1]}return n={},n.title=void 0!==e.title&&e.title,n.message=void 0!==e.message&&e.message,n.showConfirmBtn=void 0!==e.showConfirmBtn||(void 0!==e.onConfirm||void 0!==e.confirmClass||void 0!==e.confirmText),n.showCloseBtn=void 0!==e.showCloseBtn,n.confirmText=void 0!==e.confirmText?e.confirmText:"Confirm",n.confirmClass=void 0!==e.confirmClass?e.confirmClass:SimpleAlert.bt_confirm_class,n.closeText=void 0!==e.closeText?e.closeText:"Close",n.closeClass=void 0!==e.closeClass?e.closeClass:SimpleAlert.bt_close_class,n.onConfirm=void 0!==e.onConfirm&&e.onConfirm,n.onClose=void 0!==e.onClose&&e.onClose,n.message=void 0!==e.message?e.message:"",n.openTime=void 0!==e.time?e.time:void 0!==e.openTime?e.openTime:250,n.closeTime=void 0!==e.time?e.time:void 0!==e.closeTime?e.closeTime:250,n.effectShow=void 0!==e.effectShow?e.effectShow:e.effect?e.effect:"easeInOutBack",n.effectHide=void 0!==e.effectHide?e.effectHide:e.effect?e.effect:"easeInBack",n.closeOnClickShadow=void 0!==e.closeOnClickShadow&&e.closeOnClickShadow,n.autoClose=void 0!==e.autoClose&&e.autoClose,n.id=e.id?e.id:a(),n.modal="#modal_"+n.id,n.shadow="#shadow_"+n.id,n.bt_close="#bt_close_"+n.id,n.div_bt_close="#div_bt_close_"+n.id,n.bt_confirm="#bt_confirm_"+n.id,n.div_bt_confirm="#div_bt_confirm_"+n.id,n},u=h(arguments),n=function(){return $(u.modal).css("marginLeft",$(u.modal).width()/2*-1+"px"),$(u.modal).css("marginTop",$(u.modal).height()/2*-1+"px"),$(u.modal).css("top","50%"),$(u.modal).css("left","50%")},g=function(){if($(u.shadow).css("zIndex",m+1),$(u.shadow).animate({opacity:"0.4"},u.openTime,function(){return s()}),u.autoClose)return setTimeout(function(){if(u.autoClose)return t()},1e3*u.autoClose)},w=function(){return $(u.modal).css("zIndex",m+2),$(u.modal).transition({scale:0},0),$(u.modal).transition({scale:1},u.openTime,u.effectShow),$(u.modal).find("input:first").focus()},i=function(){if($(u.bt_close).click(function(){return t()}),u.closeOnClickShadow)return $(u.shadow).click(function(){return t()})},C=function(){var o,e
try{return o=$(u.bt_close).outerWidth(),e=$(u.bt_confirm).outerWidth(),o>e?$(u.bt_confirm).css("width",o):$(u.bt_close).css("width",e)}catch(o){o}},d=function(){return'<div id="'+u.modal.substring(1)+'" class="ba_modal" ><div class="ba_modal_content" >'},l=function(){return u.message?'<div class="ba_modal_message" >'+u.message+"</div>":""},r=function(){return u.title?'<div class="ba_modal_title">'+u.title+"</div>":""},p=function(){return'<div id="'+u.shadow.substring(1)+'" class="ba_shadow"></div>'},t=function(o){return null==o&&(o=!1),u.autoClose=!1,u.onClose&&!o&&u.onClose(),$(u.modal).transition({scale:0,opacity:0},u.closeTime,u.effectHide,function(){return $(this).remove()}),$(u.shadow).transition({opacity:0},u.closeTime,function(){return $(this).remove()}),c()},e=function(){return u.showConfirmBtn?'<div id="'+u.div_bt_confirm.substring(1)+'" class="ba_modal_bt">\n\t<input type="button" id="'+u.bt_confirm.substring(1)+'" '+(u.confirmClass?' class="'+u.confirmClass+'" ':"")+'value="'+u.confirmText+'"></input>\n\n</div>':""},o=function(){return'<div id="'+u.div_bt_close.substring(1)+'" class="ba_modal_bt">\n\t<input type="button" id="'+u.bt_close.substring(1)+'" '+(u.closeClass?' class="'+u.closeClass+'" ':"")+'value="'+u.closeText+'"></input>\n</div>'},v=d(),v+=r(),v+=l(),v+='<div class="ba_list_bt" >',v+=e(),v+=o(),v+="</div>",v+="</div></div>",$("body").append(p()),$("body").append(v),s(),C(),g(),w(),i(),u.showConfirmBtn?$(u.bt_confirm).click(function(){if(t(!0),u.onConfirm)return u.onConfirm()}):$(u.div_bt_close).css("width","100%"),n(),$(window).resize(function(){return n()})}}).call(this)
